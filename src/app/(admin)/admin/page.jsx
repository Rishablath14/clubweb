"use client"
import { useRouter } from 'next/navigation';
import React, { useState } from 'react'
import {toast} from 'sonner'
import {Eye,EyeOff} from 'lucide-react'
import { loginAdmin } from '@/actions/admin';

const login = () => {
  const router = useRouter();
  const [loading,setLoading] = useState(false);
  const [pass,setPass] = useState(false);
  const [form,setForm] = useState({
    username:"",
    password:""
  })
  const handleSubmit = async (e)=>{
    e.preventDefault();
    const toastlo = toast.loading("Login Check...")
            setLoading(true);
            const response = await loginAdmin(form.username,form.password);
            if(response){
            toast.success("Login success",{
              id:toastlo
            });
            setLoading(false);
            router.push("/admin/dashboard");
          }else{
            toast.error("Invalid Credentials",{
              id:toastlo
            });
            setLoading(false);
          }
  }
  const handleClick = ()=>{setPass(!pass)}
  return (
    <div className='w-full min-h-[calc(100vh-96px)] flex justify-center items-center'>
      <form className='w-[90%] md:w-[60%] p-4 md:p-8 flex flex-col rounded-md shadow-lg border border-black dark:border-white' onSubmit={handleSubmit}>
       <div>
<svg width="120" height="43" viewBox="0 0 120 43" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M33.2596 26.0409L33.3401 27.5451C33.3508 27.772 33.1899 27.9726 32.9646 28.0148C32.321 28.1309 31.4306 28.2734 30.8728 28.2734C28.0677 28.2734 27.2149 27.2179 27.2149 23.7609V18.4777H26.1421C25.8847 18.4777 25.6809 18.2719 25.6809 18.0186V16.4563C25.6809 16.203 25.8847 16.0024 26.1421 16.0024H27.2149V14.1446C27.2149 13.9335 27.3597 13.754 27.5689 13.7013L29.43 13.2527C29.5695 13.221 29.7143 13.2527 29.8216 13.3371C29.9342 13.4268 29.9986 13.5535 29.9986 13.696V16.0024H32.8305C33.0826 16.0024 33.2918 16.203 33.2918 16.4563V18.0186C33.2918 18.2719 33.088 18.4777 32.8305 18.4777H29.9986V23.3756C29.9986 25.0698 30.0576 25.6556 31.2644 25.6556C31.7095 25.6556 32.4068 25.6292 32.7823 25.6081C33.0236 25.6028 33.2489 25.7823 33.2596 26.0409ZM24.4794 21.9347C24.4794 26.2995 22.7953 28.247 19.0193 28.247C15.2219 28.247 13.5323 26.2995 13.5323 21.9347C13.5323 17.6333 15.2272 15.7174 19.0193 15.7174C22.747 15.7174 24.4794 17.6913 24.4794 21.9347ZM21.6528 21.9347C21.6528 19.2536 20.9126 18.2138 19.0193 18.2138C17.0562 18.2138 16.3589 19.185 16.3589 21.9347C16.3589 24.4259 16.7827 25.777 19.0193 25.777C21.2184 25.777 21.6528 24.3678 21.6528 21.9347ZM66.0043 16.1819C65.9185 16.071 65.7844 16.0077 65.645 16.0077H63.8374C63.6283 16.0077 63.4459 16.1449 63.3923 16.3455L60.9733 25.3231H60.7856L58.3666 16.3455C58.313 16.1449 58.1306 16.0077 57.9214 16.0077H56.1192C55.9744 16.0077 55.8403 16.071 55.7492 16.1819C55.6633 16.2927 55.6312 16.4405 55.6687 16.5724L58.3344 26.6426C58.4685 27.144 58.9351 27.9831 59.863 27.9831H60.3779C60.335 28.152 60.2868 28.3315 60.2385 28.4845L60.2117 28.5584C60.0668 29.0229 59.8523 29.7248 58.5329 29.7248L56.2319 29.5876C56.0978 29.5771 55.9744 29.6246 55.8832 29.7143C55.7867 29.804 55.7384 29.9307 55.7438 30.0573L55.7974 31.2449C55.8028 31.4454 55.9476 31.6143 56.1461 31.6671C56.8272 31.8307 58.1199 32.026 59.1872 32.0629C59.2409 32.0682 59.2838 32.0682 59.332 32.0682C61.0698 32.0682 62.2498 30.9599 62.8452 28.7801C63.5371 26.2256 64.4006 22.9428 65.0282 20.5466C65.3124 19.4647 65.5592 18.5358 65.7362 17.8761L66.0848 16.5671C66.1223 16.4352 66.0902 16.2927 66.0043 16.1819ZM11.8374 27.3445C11.8964 27.4817 11.8857 27.6454 11.7999 27.7773C11.7087 27.904 11.5639 27.9831 11.4084 27.9831H9.25219C9.06983 27.9831 8.90356 27.8776 8.82847 27.714L6.06622 21.5969C4.68778 21.5864 3.49706 21.5178 2.85343 21.4703V27.5345C2.85343 27.7879 2.64961 27.9884 2.39216 27.9884H0.466632C0.20918 27.9831 0 27.7826 0 27.5292V12.1812C0 11.949 0.176998 11.7537 0.412996 11.7274C2.89098 11.4529 4.87014 11.4265 5.60495 11.4265C5.85704 11.4265 5.99113 11.4265 5.99113 11.4265C10.7433 11.4265 11.7409 14.1868 11.7409 16.4985C11.7409 18.4302 10.8023 19.8236 8.87674 20.7683L11.8374 27.3445ZM5.98577 14.0602H4.96668C3.8296 14.0602 3.18597 14.1446 2.85343 14.2079V18.9422C3.39515 18.9791 4.44105 19.0319 5.84631 19.0161C7.65921 19.0002 8.78556 18.0502 8.78556 16.546C8.79092 15.3427 8.05075 14.0602 5.98577 14.0602ZM44.609 19.7708V27.714C44.609 27.8459 44.55 27.9726 44.4481 28.057C44.3462 28.1468 44.2121 28.1837 44.0833 28.1679C43.1394 28.0359 42.6888 27.7456 42.2436 27.4079C42.2222 27.4184 40.1357 28.247 38.2692 28.247C36.0219 28.247 34.7346 26.8484 34.7346 24.41C34.7346 22.0244 35.9146 20.9689 38.8109 20.7578L41.836 20.5203V19.7972C41.836 18.8841 41.2836 18.3563 40.3235 18.3563C38.9987 18.3563 37.1107 18.5094 36.1023 18.5991C35.9736 18.6097 35.8502 18.5727 35.7537 18.4883C35.6625 18.4091 35.6035 18.2877 35.5981 18.1663L35.5391 16.6463C35.5284 16.4141 35.7001 16.2135 35.9253 16.1766C36.8264 16.0341 39.0738 15.7121 40.4737 15.7121C43.2895 15.7174 44.609 17.0052 44.609 19.7708ZM39.1435 22.795C38.0493 22.8953 37.5344 23.3861 37.5344 24.3309C37.5344 24.9114 37.6953 25.8931 38.7788 25.8931C40.066 25.8931 41.8092 25.4181 41.8306 25.4128V22.6525L39.1435 22.795ZM53.6305 15.9127C52.4023 15.9866 51.1955 16.678 50.4392 17.2005V16.4563C50.4392 16.203 50.2354 16.0024 49.9726 16.0024H48.1168C47.8593 16.0024 47.6501 16.203 47.6501 16.4563V27.5292C47.6501 27.7826 47.8593 27.9831 48.1168 27.9831H49.9726C50.23 27.9831 50.4392 27.7826 50.4392 27.5292V19.8764C50.8576 19.5333 52.1556 18.5727 53.7003 18.4408C53.9363 18.4197 54.124 18.2244 54.124 17.9869V16.3666C54.124 16.2399 54.0704 16.1238 53.9792 16.0394C53.888 15.9496 53.7593 15.9021 53.6305 15.9127Z" fill="#17458F"/>
<path d="M114.164 20.457L114.159 20.3989L114.111 20.3725C113.199 19.8289 112.008 19.5228 110.839 19.5017C110.817 19.3486 110.667 18.2719 110.651 18.1189C111.767 17.8075 112.834 17.2111 113.585 16.4511L113.622 16.4141L113.612 16.3561C113.558 15.9497 113.397 15.3797 113.252 15.0313L113.231 14.9785L113.177 14.9627C112.153 14.6724 110.925 14.683 109.793 14.9627C109.739 14.8202 109.321 13.828 109.262 13.6907C110.254 13.0944 111.128 12.2499 111.649 11.3315L111.675 11.2893L111.654 11.2313C111.504 10.8777 111.203 10.371 110.962 10.0438L110.93 10.0015H110.871C109.814 9.98042 108.634 10.2971 107.594 10.846C107.503 10.7193 106.827 9.85375 106.736 9.73236C107.545 8.90901 108.162 7.86928 108.43 6.85065L108.447 6.79259L108.409 6.75037C108.168 6.43898 107.749 6.01675 107.433 5.77397L107.39 5.7423L107.331 5.75286C106.29 6.01147 105.239 6.6237 104.402 7.41538C104.274 7.32038 103.394 6.63954 103.271 6.53926C103.829 5.56813 104.156 4.44395 104.156 3.40949C104.156 3.37782 104.15 3.26699 104.15 3.26699L104.107 3.23532C103.786 2.98726 103.271 2.69698 102.895 2.54392L102.842 2.52809L102.793 2.55448C101.86 3.06643 101.007 3.91616 100.407 4.89257C100.256 4.83451 99.189 4.39117 99.0496 4.33311C99.189 3.78422 99.2802 3.21421 99.2802 2.64948C99.2802 2.07947 99.2105 1.52002 99.0496 1.00806L99.0388 0.955286L98.9798 0.934175C98.6258 0.786395 98.0627 0.633337 97.6443 0.575281L97.5799 0.564725L97.5424 0.606948C96.77 1.34057 96.1693 2.39086 95.8475 3.48866C95.6866 3.46227 94.5817 3.33032 94.4154 3.30921C94.3993 2.16919 94.0882 1.00279 93.5358 0.0949959L93.509 0.0422173H93.45C93.0531 -0.00528338 92.447 -0.00528338 92.0554 0.0422173H91.9911L91.9643 0.0949959C91.4172 0.992231 91.1114 2.15864 91.09 3.30393C90.9291 3.32504 89.8081 3.45699 89.6418 3.48338C89.32 2.38031 88.7139 1.32474 87.9469 0.596392L87.904 0.554169L87.8397 0.564725C87.4267 0.622781 86.8528 0.775839 86.5041 0.918341L86.4505 0.939453L86.429 0.992231C86.2842 1.50946 86.2038 2.07947 86.2038 2.65476C86.2038 3.20893 86.2949 3.78422 86.429 4.32784C86.2896 4.38589 85.2115 4.84507 85.0667 4.90312C84.4606 3.92672 83.6078 3.06643 82.6745 2.5492L82.6262 2.51753L82.5672 2.53864C82.2079 2.6917 81.693 2.98726 81.3658 3.23004L81.3122 3.26171C81.3122 3.26171 81.3122 3.3831 81.3122 3.41477C81.3122 4.43867 81.634 5.56813 82.1918 6.54453C82.0684 6.64481 81.2585 7.2676 81.1405 7.3626C80.3038 6.56565 79.2472 5.95869 78.2066 5.68952L78.153 5.67897L78.1155 5.71591C77.7936 5.95341 77.3646 6.36509 77.1178 6.68176L77.0803 6.72926L77.091 6.78204C77.3538 7.80066 77.9707 8.8404 78.7806 9.66902C78.6947 9.79041 77.9867 10.6982 77.8902 10.8196C76.8818 10.2654 75.7019 9.93292 74.6238 9.94875H74.5701L74.5326 9.99625C74.2966 10.3076 73.9962 10.8038 73.8353 11.1838L73.8139 11.2313L73.8407 11.284C74.3556 12.1971 75.2299 13.0469 76.2328 13.6432C76.1792 13.7858 75.7716 14.7674 75.7072 14.9099C74.5594 14.6302 73.3365 14.6249 72.3174 14.9205L72.2638 14.9363L72.2423 14.9838C72.0922 15.3374 71.9366 15.8916 71.8776 16.3086L71.8722 16.3666L71.9152 16.4088C72.6607 17.1636 73.7281 17.76 74.849 18.0661C74.8276 18.2191 74.6828 19.3064 74.6613 19.4594C73.4974 19.4806 72.3067 19.7814 71.3895 20.3197L71.3412 20.3461L71.3359 20.4042C71.3144 20.5995 71.2983 20.8475 71.2983 21.0903C71.2983 21.3384 71.3144 21.5759 71.3359 21.7764L71.3412 21.8345L71.3895 21.8609C72.3013 22.3992 73.4867 22.7053 74.656 22.7212C74.6774 22.8795 74.8329 23.9931 74.8544 24.1462C73.7334 24.4681 72.6714 25.0751 71.9259 25.8245L71.883 25.872L71.8883 25.9248C71.9527 26.3365 72.1082 26.9065 72.2531 27.2496L72.2745 27.3023L72.3282 27.3182C73.3633 27.6085 74.5862 27.5979 75.7179 27.3182C75.7769 27.4607 76.2168 28.4476 76.2758 28.5901C75.2835 29.176 74.4092 30.0204 73.8836 30.9388L73.8568 30.9916L73.8782 31.0443C74.0284 31.4032 74.3341 31.9152 74.5755 32.2319L74.613 32.2794H74.6667C75.734 32.2952 76.914 31.9838 77.9385 31.4296C78.035 31.5457 78.7269 32.4324 78.8181 32.5538C78.0136 33.3613 77.3914 34.4011 77.1232 35.4355L77.1071 35.4883L77.1393 35.5358C77.386 35.8472 77.8097 36.2589 78.1208 36.5069L78.1691 36.5439L78.2227 36.528C79.2579 36.2747 80.3092 35.6677 81.1566 34.8708C81.2853 34.9658 82.1811 35.6466 82.3098 35.7416C81.7573 36.7391 81.4355 37.8739 81.4355 38.9031C81.4355 38.9242 81.4355 39.0192 81.4355 39.0192L81.4892 39.0561C81.8002 39.2883 82.3098 39.5734 82.6906 39.7422L82.7442 39.7634L82.7979 39.737C83.7311 39.225 84.5947 38.3647 85.1954 37.3725C85.3349 37.4305 86.3164 37.8211 86.4612 37.8792C86.3218 38.4228 86.2413 38.9875 86.2413 39.5417C86.2413 40.1222 86.3164 40.6923 86.4666 41.2042L86.4773 41.257L86.5363 41.2781C86.8903 41.4259 87.4588 41.5789 87.8772 41.6476L87.9416 41.6581L87.9845 41.6106C88.7568 40.8717 89.3629 39.8214 89.6633 38.7289C89.8242 38.7553 90.9559 38.9136 91.1168 38.9295C91.1383 40.08 91.4547 41.2464 92.0018 42.1384L92.0286 42.1859L92.093 42.1912C92.4952 42.2439 93.0906 42.2439 93.4875 42.1912L93.5465 42.1859L93.5733 42.1384C94.1151 41.2464 94.4261 40.0747 94.4583 38.9242C94.6139 38.9031 95.6759 38.7553 95.8314 38.7289C96.1425 39.8372 96.7539 40.877 97.5263 41.6159L97.5692 41.6528L97.6228 41.6476C98.0466 41.5842 98.6151 41.4364 98.9745 41.2939L99.0227 41.2675L99.0388 41.2148C99.189 40.6975 99.2587 40.1328 99.2587 39.5575C99.2587 38.9981 99.1783 38.4228 99.0388 37.8739C99.1836 37.8211 100.213 37.383 100.353 37.3197C100.959 38.3014 101.817 39.1617 102.745 39.6736L102.793 39.6947L102.847 39.6736C103.217 39.5258 103.737 39.2303 104.059 38.9822L104.107 38.9558C104.107 38.9558 104.113 38.8344 104.113 38.8028C104.113 37.7894 103.786 36.66 103.244 35.673C103.367 35.578 104.215 34.9288 104.333 34.8338C105.18 35.6255 106.237 36.2325 107.272 36.4964L107.326 36.5122L107.368 36.4753C107.685 36.2325 108.114 35.8102 108.361 35.5094L108.398 35.4619L108.377 35.4144C108.119 34.3958 107.503 33.356 106.693 32.5274C106.784 32.406 107.47 31.5193 107.562 31.3927C108.586 31.9468 109.766 32.2688 110.828 32.2424H110.887L110.925 32.2002C111.177 31.8835 111.472 31.3821 111.622 31.0074L111.643 30.9599L111.616 30.9071C111.112 30.0099 110.243 29.1549 109.251 28.5426C109.31 28.4001 109.712 27.429 109.777 27.2865C110.903 27.5715 112.126 27.5821 113.156 27.2865L113.204 27.2707L113.226 27.2179C113.376 26.859 113.531 26.3101 113.596 25.8984L113.601 25.8404L113.558 25.7981C112.813 25.0381 111.751 24.447 110.64 24.1356C110.662 23.9826 110.817 22.9376 110.828 22.7845C112.003 22.7634 113.193 22.4573 114.105 21.9189L114.153 21.8925L114.159 21.8345C114.186 21.6445 114.196 21.3964 114.196 21.1484C114.202 20.8897 114.191 20.647 114.164 20.457ZM92.7634 36.8078C83.9028 36.8078 76.6887 29.709 76.6887 20.9847C76.6887 12.2604 83.9028 5.16701 92.7634 5.16701C101.629 5.16701 108.838 12.2604 108.838 20.9847C108.838 29.709 101.624 36.8078 92.7634 36.8078Z" fill="#F7A81B"/>
<path d="M92.7634 7.07227C84.9701 7.07227 78.625 13.316 78.625 20.99C78.625 28.664 84.9701 34.9077 92.7634 34.9077C100.562 34.9077 106.907 28.664 106.907 20.99C106.907 13.316 100.557 7.07227 92.7634 7.07227ZM94.5388 9.31008C94.6729 9.19924 94.8552 9.23619 95.0322 9.27313C97.8749 9.9487 99.9614 11.1309 101.994 13.2368C102.139 13.3846 102.214 13.5271 102.214 13.6537C102.214 13.6643 102.209 13.6854 102.209 13.7012C102.166 13.8913 101.946 13.9968 101.753 14.0865L95.8046 16.9207C95.5686 17.0316 95.3487 17.0421 95.177 16.9366C95 16.8363 94.8928 16.6463 94.8713 16.393L94.394 9.90647C94.3832 9.59508 94.4261 9.40508 94.5388 9.31008ZM83.4951 13.2843C85.5333 11.1784 87.6197 9.9962 90.4571 9.32591C90.6341 9.28896 90.8218 9.25202 90.9452 9.36285C91.0685 9.45786 91.1061 9.64786 91.0846 9.95925L90.6019 16.4457C90.5858 16.6938 90.4839 16.8891 90.3015 16.9894C90.1299 17.0896 89.9046 17.0844 89.674 16.9788L83.7258 14.1446C83.5327 14.0496 83.3074 13.9493 83.2645 13.754C83.2591 13.6168 83.3235 13.4585 83.4951 13.2843ZM82.0845 25.302C81.8271 25.4761 81.634 25.5395 81.4892 25.4867C81.3282 25.4339 81.2746 25.2545 81.221 25.0856C80.3789 22.3253 80.3789 19.9555 81.2103 17.1688C81.28 16.9313 81.3819 16.7993 81.516 16.7518C81.7037 16.6832 81.9075 16.8205 82.0845 16.9419L87.55 20.5994C87.7538 20.7314 87.8772 20.9214 87.8772 21.1272C87.8772 21.3225 87.7592 21.5125 87.5607 21.655L82.0845 25.302ZM91.0578 32.9179C90.9291 33.0235 90.7467 32.9918 90.5644 32.9443C87.7217 32.2793 85.6352 31.0918 83.6024 28.9859C83.4522 28.8329 83.3825 28.7009 83.3825 28.5848C83.3825 28.5637 83.3825 28.5479 83.3879 28.5267C83.4147 28.342 83.6453 28.2365 83.8384 28.1415L89.7866 25.302C90.0173 25.1964 90.2425 25.1911 90.4195 25.2914C90.5912 25.3917 90.6984 25.5817 90.7199 25.8298L91.2026 32.3268C91.2187 32.6329 91.1704 32.8229 91.0578 32.9179ZM92.7527 24.8164C90.6234 24.8164 88.8909 23.1117 88.8909 21.0164C88.8909 19.7391 89.5399 18.5516 90.6287 17.8444C90.9881 17.6069 91.4708 17.7071 91.7068 18.0608C91.9428 18.4144 91.8463 18.8947 91.4869 19.1269C90.8379 19.5491 90.4517 20.2563 90.4517 21.0216C90.4517 22.2672 91.4869 23.2858 92.7527 23.2858C94.0239 23.2858 95.059 22.2672 95.059 21.0216C95.059 20.2563 94.6729 19.5438 94.0239 19.1269C93.6645 18.8947 93.568 18.4144 93.804 18.066C94.04 17.7177 94.528 17.6174 94.882 17.8496C95.9709 18.5569 96.6199 19.7444 96.6199 21.0269C96.6145 23.1117 94.882 24.8164 92.7527 24.8164ZM102.01 28.912C99.9828 31.0126 97.9071 32.1948 95.0483 32.8704C94.807 32.9285 94.6407 32.9126 94.5334 32.8282C94.3832 32.7068 94.4047 32.4587 94.4208 32.2476L94.8928 25.7559C94.925 25.5025 95.0215 25.3125 95.2039 25.207C95.3809 25.112 95.6061 25.1225 95.826 25.2281L101.78 28.0623C102.059 28.1995 102.203 28.3315 102.236 28.474C102.262 28.6323 102.139 28.7748 102.01 28.912ZM104.016 16.7202C104.177 16.773 104.242 16.9471 104.29 17.1213C105.127 19.8869 105.127 22.2514 104.29 25.0381C104.22 25.2756 104.124 25.4075 103.995 25.4603C103.807 25.5184 103.603 25.3864 103.432 25.2597L97.9608 21.6075C97.7516 21.4702 97.6282 21.2802 97.6282 21.0797C97.6282 20.8791 97.7516 20.6944 97.9608 20.5519L103.432 16.9049C103.678 16.7255 103.871 16.6727 104.016 16.7202Z" fill="#F7A81B"/>
</svg>
</div>
       <h1 className='font-bold text-xl my-6'>Admin Login</h1> 
       <label className='mb-2 bg-slate-50 rounded-md p-1 dark:bg-zinc-950'>Username</label>
       <input className='w-full p-1 border dark:border-white dark:bg-zinc-950 border-black' type='text' placeholder='Enter your username' value={form.username} onChange={(e)=>{setForm({...form,username:e.target.value})}} required/>
       <label className='mt-4 mb-2 bg-slate-50 rounded-md p-1 dark:bg-zinc-950'>Password</label>
       <input className='w-full p-1 border dark:border-white dark:bg-zinc-950 border-black' type={pass?"text":"password"} placeholder='Enter Your password' value={form.password} onChange={(e)=>{setForm({...form,password:e.target.value})}} required/>
       <span className='mt-2' onClick={handleClick}>{pass?<EyeOff />:<Eye />}</span>
       <button type='submit' disabled={loading} className='p-2 mt-6 bg-black hover:bg-zinc-900 text-white rounded-md dark:bg-slate-50/90 dark:hover:bg-slate-100/80 dark:text-black'>Login</button>
      </form>
    </div>
  )
}

export default login